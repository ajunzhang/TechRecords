### JVM内存模型1

![内存模型](/images/jvm_memory_1.png)


![存储内容](/images/stack_heap_info.png)

- 堆 垃圾回收的主要区域，线程共享的区域。new 操作的时候会在堆上分配一块内存存储对象的实例，其实是class对象的一个实例。

主要分为新生代和年长代，新生代存活对象较少，垃圾回收频繁一般采用复制算法，复制存活对象到另一块内存，然后整体清楚之前的那块内存。
年长代，存活对象较多，垃圾回收没这么频繁，适合采用标记--清除算法。

- 栈 虚拟栈和本地方法栈 线程私有的区域，存储对象实例的引用。在线程内部虚拟栈存储方法调用的局部变量，每个方法调用的时候会创建栈帧。

- 方法区 也称为堆的永久代，是线程公共的区域。存储类的静态变量以及常量。垃圾回收很少，使用标记--清理算法，因为存活对象较多。

- 常量池 线程共享区域，存储字符常量等。

- 程序计数器 线程私有的，因为线程不停切换，需要程序计数器记录下一行执行的位置。

<link>http://gityuan.com/2016/01/09/java-memory/</link>