### 协议的作用

> 什么是协议（protocol）？通俗的来讲，协议是一种双方都明白或者必须遵守的事先约定。为了把全世界的所有不同类型的计算机都连接起来，就必须规定一套全球通用的协议，为了实现这个目标，互联网协议簇（Internet Protocol Suite）就成为了通用协议标准。互联网协议包含了上百种协议，但是最重要的两个协议是TCP和IP协议，而我们通常把基于TCP和IP协议的所有协议统称为”TCP/IP协议（蔟）”。

![七层协议](https://upload-images.jianshu.io/upload_images/2179030-3694fe2b18ebe05f.png)

#### 物理层
> 用光缆、电缆、双绞线、无线电波（WiFi）等方式。物理层的作用就是通过物理手段把电脑连接起来，它主要规定了网络的一些电气特性，作用是负责传送0和1的电信号。

#### 数据链路层
> 链路层的意义，它在物理层的上方，确定了0和1的分组方式。

> 以太网协议: “以太网”规定，一组电信号构成一个数据包，叫做“帧（Frame）”；每一帧分成两个个部分：标头（Head）和数据（Data）.

> 以太网规定，连入网络的所有设备，都必须具有“网卡”接口。数据包必须是从一块网卡，传送到另一块网卡，网卡的地址，就是数据包的发送地址和接受地址，也叫MAC地址。

#### 网络层
> 网络层的出现，他的作用是引入一套新的地址，使我们能够区分哪些计算机属于同一个子网，这个套机制就叫做“网络地址”，也就是“IP地址”。

> 子网掩码： IP地址是由网络号+主机号组成的。当两个ip地址和子网掩码进行AND运算结果一样，我们认为这两个ip属于一个子网。

#### 传输层
> 当一个数据包从网上发送过来的时候，我们需要一个参数来区分，他到底是提供哪个进程使用的——这个参数就叫做“端口号”，他其实就是每一个使用网卡的程序的编号。

> “传输层”的功能，就是建立“端口到端口”之间的通信。相比之下，“网络层”的功能是建立“主机到主机"的通信。

> Socket是建立端口和端口之间的通信，称为套接字。

> socket本质是编程接口(API)，对TCP/IP的封装。TCP/IP只是一个协议栈，必须要具体实现，同时还要提供对外的操作接口（API），这就是Socket接口。通过Socket,我们才能使用TCP/IP协议，因此有了一系列我们知道的函数接口——connect、accept、send、read、write等。

> UDP/TCP协议:UDP和TCP协议都是传输层的协议，他们的主要作用就是在应用层的数据包标头加上端口号（或者在IP协议的数据包中插入端口号）。
TCP协议主要的确认机制是"三次握手，四次挥手".

#### 应用层
> 应用程序收到"传输层"的数据，接下来就要进行解读。由于互联网是开放架构，数据来源五花八门，必须事先规定好格式，否则根本无法解读。"应用层"的作用，就是规定应用程序的数据格式.

> TCP协议可以为各种各样的程序传递数据，比如Email、WWW、FTP等等。那么，必须有不同协议规定电子邮件、网页、FTP数据的格式，这些应用程序协议就构成了"应用层"。这是最高的一层，直接面对用户。

